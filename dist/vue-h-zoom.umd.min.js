(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["vue-h-zoom"]=e():t["vue-h-zoom"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function o(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=t,o.c=e,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s="98e7")}({"98e7":function(t,e,o){"use strict";if(o.r(e),"undefined"!==typeof window){var i=window.document.currentScript,n=o("fd8b");i=n(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:n});var r=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);r&&(o.p=r[1])}var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"vue-h-zoom"},[o("div",{ref:"thumbnail",staticClass:"thumbnail-area",style:t.thumbnailStyle,on:{mouseenter:t.mouseEnter,mouseleave:t.mouseLeave,mousemove:function(e){return e.target!==e.currentTarget?null:t.followMouse(e)}}},[t.visibleZoom?o("div",{style:t.pointerBoxStyle,on:{mouseenter:t.mouseEnter,mousemove:function(e){return e.target!==e.currentTarget?null:t.followMouse(e)}}}):t._e()]),t.visibleZoom?o("div",{staticClass:"img-zoom-container",style:t.containerStyle},[o("div",{style:t.zoomStyle})]):t._e()])},u=[],h={name:"vue-h-zoom",props:{image:{type:String,required:!0},imageFull:{type:String,default:""},width:{type:Number,default:200},height:{type:Number,default:200},zoomLevel:{type:Number,default:4},zoomWindowSize:{type:Number,default:2},zoomWindowX:{type:Number,default:300},zoomWindowY:{type:Number,default:10}},data(){return{visibleZoom:!1,pointer:{x:0,y:0},thumbnailPos:{}}},methods:{toPx:function(t){return t+"px"},mouseEnter:function(){this.updateThumbnailPos(),this.visibleZoom=!0},mouseLeave:function(){this.visibleZoom=!1},followMouse:function(t){this.$refs.thumbnail.offsetTopLeft,this.pointer={x:t.pageX-this.$refs.thumbnail.getBoundingClientRect().left-window.scrollX,y:t.pageY-this.$refs.thumbnail.getBoundingClientRect().top-window.scrollY}},updateThumbnailPos:function(){this.$refs.thumbnail;this.thumbnailPos={top:0,left:0}}},computed:{zoomWidth:function(){return this.zoomWindowSize*this.width},zoomHeight:function(){return this.zoomWindowSize*this.height},thumbnailStyle:function(){return{"background-image":`url(${this.image})`,"background-size":"contain","background-repeat":"no-repeat","background-position":"center",height:this.toPx(this.height),width:this.toPx(this.width)}},containerStyle:function(){return{height:this.toPx(this.zoomHeight),width:this.toPx(this.zoomWidth),left:this.toPx(this.zoomWindowX),top:this.toPx(this.zoomWindowY),position:"absolute",overflow:"hidden",border:"1px solid #ccc"}},zoomPosX:function(){const t=this.width/2,e=-(this.pointer.x-this.thumbnailPos.left-t)*this.zoomWindowSize;return e>this.pointerEdgeX?this.pointerEdgeX:e<-1*this.pointerEdgeX?-1*this.pointerEdgeX:e},zoomPosY:function(){const t=this.height/2,e=-(this.pointer.y-this.thumbnailPos.top-t)*this.zoomWindowSize;return e>this.pointerEdgeY?this.pointerEdgeY:e<-1*this.pointerEdgeY?-1*this.pointerEdgeY:e},zoomStyle:function(){return{"background-image":`url(${this.largeImage})`,"background-repeat":"no-repeat","background-position":this.toPx(this.zoomPosX)+" "+this.toPx(this.zoomPosY),"background-size":"contain",width:"100%",height:"100%","-webkit-transform":`scale(${this.zoomLevel})`,transform:`scale(${this.zoomLevel})`}},pointerWidth:function(){return this.width/this.zoomLevel},pointerHeight:function(){return this.height/this.zoomLevel},pointerOffsetTop:function(){const t=this.pointer.y-this.pointerHeight/2-this.thumbnailPos.top;return t<0?0:t>this.height-this.pointerHeight?this.height-this.pointerHeight:t},pointerOffsetLeft:function(){const t=this.pointer.x-this.pointerWidth/2-this.thumbnailPos.left;return t<0?0:t>this.width-this.pointerWidth?this.width-this.pointerWidth:t},pointerEdgeX:function(){return(this.width-this.pointerWidth)*(this.zoomWindowSize/2)},pointerEdgeY:function(){return(this.height-this.pointerHeight)*(this.zoomWindowSize/2)},pointerBoxStyle:function(){return{position:"absolute","z-index":"999",transform:"translateZ(0px)",top:this.toPx(this.pointerOffsetTop),left:this.toPx(this.pointerOffsetLeft),width:this.toPx(this.pointerWidth),height:this.toPx(this.pointerHeight),background:"gray",opacity:.5,border:"1px solid white",cursor:"crosshair"}},largeImage:function(){return this.imageFull||this.image}}},c=h;o("dd23");function d(t,e,o,i,n,r,s,u){var h,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=o,c._compiled=!0),i&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),s?(h=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=h):n&&(h=u?function(){n.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:n),h)if(c.functional){c._injectStyles=h;var d=c.render;c.render=function(t,e){return h.call(e),d(t,e)}}else{var a=c.beforeCreate;c.beforeCreate=a?[].concat(a,h):[h]}return{exports:t,options:c}}var a=d(c,s,u,!1,null,"6dd7da88",null),f=a.exports;e["default"]=f},dd23:function(t,e,o){"use strict";var i=o("f96f"),n=o.n(i);n.a},f96f:function(t,e,o){},fd8b:function(t,e,o){var i,n,r;(function(o,s){n=[],i=s,r="function"===typeof i?i.apply(e,n):i,void 0===r||(t.exports=r)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(l){var o,i,n,r=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,s=/@([^@]*):(\d+):(\d+)\s*$/gi,u=r.exec(l.stack)||s.exec(l.stack),h=u&&u[1]||!1,c=u&&u[2]||!1,d=document.location.href.replace(document.location.hash,""),a=document.getElementsByTagName("script");h===d&&(o=document.documentElement.outerHTML,i=new RegExp("(?:[^\\n]+?\\n){0,"+(c-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),n=o.replace(i,"$1").trim());for(var f=0;f<a.length;f++){if("interactive"===a[f].readyState)return a[f];if(a[f].src===h)return a[f];if(h===d&&a[f].innerHTML&&a[f].innerHTML.trim()===n)return a[f]}return null}}return t}))}})["default"]}));
//# sourceMappingURL=vue-h-zoom.umd.min.js.map